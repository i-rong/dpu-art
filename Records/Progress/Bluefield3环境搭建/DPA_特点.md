# DPA
## 特点
1、DPA与ARM/Host之间通过显示API的传递信息，DPA也可以独立处理包文以绕过ARM/Host

2、DPA支持多计算单元，每个单元支持多线程。每个线程都可映射到一个独立的计算单元。线程之间的地址空间以及上下文都是隔离的。计算单元的调度RTOS管理。

## 内存结构
每个计算单元都有独立的L1 数据缓存， DPA内执行单元共享L1 程序缓存。 DPA之间共享L2缓存。 DPA计算单元通过Memory Apertures访问外存。外部内存数据可以直接缓存在L1里。DPA cache可访问NIC自有内存，地址空间为DPU内存空间。

DPA平台具有高效的DMA加速器，使不同的执行单元能够并行地访问NIC可访问的任何内存位置，而不会产生争用。这包括由执行单元触发的同步和异步DMA操作。此外，网卡可以将数据直接DMA到DPA缓存中，以实现低延迟访问和快速处理。例如，从网络接收到的数据包可能直接被“dma收集”到DPA的最后一级缓存。

## 程序执行模型
基于FlexIO 

FlexIO event hander：类似eBPF，消息进入NIC的SQ/CQ之后被触发

RPC – remote

主要用于修改DPA内存的数据来修改控制路径的配置，